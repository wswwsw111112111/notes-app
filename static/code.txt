
import requests
from lxml import etree
header ={'user-agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.87 Safari/537.36','cookie': 'lastCity=101281600; sid=sem_pz_bdpc_dasou_title; __fid=58f13dcc778bac8d2a60ea057403e95c; __zp_stoken__=dbc3bIywQdyUnNlY5EEoeaz05KCgEKTx2IWlPAyUwKhI0LDRYbgRmIik8ZmFgMAE8F3s2TjsIWXAgXxNffFsQLBMVA282TTIsc1NRNT9bVGd6X0cDVjpOCFEnZB4MAX4eESo8XSAOJA5UVVE8dA%3D%3D; Hm_lvt_194df3105ad7148dcf2b98a91b5e727a=1601222437,1601223363,1601227714; __zp_seo_uuid__=a55a6d22-38de-476b-8acc-b092730e3018; __c=1601222437; __g=sem_pz_bdpc_dasou_title; __l=l=%2Fwww.zhipin.com%2Fdongguan%2F%3Fsid%3Dsem_pz_bdpc_dasou_title&r=https%3A%2F%2Fwww.baidu.com%2Fother.php%3Fsc.0f0000jFkvo45LmHfViiM_Iue9NJwJez3IX0jJdUZMiPqS0-Q9YfdktWYzACRU_QLrqwyQnIZ9-XeZ22iHwt0hJRsr4uR5G__JwlDlW_1X63ErpSSum8f26FKDGC2j_1XAW4Kn0YCYLf31ToDkp1BecAQGFwqVA00cmjqdEzBWgiwVmJDM7FJ1XqmfBVWiKdkY3vKxK8J-8t-qEguQbXoru1TVuT.7D_NR2Ar5Od663rj6t8AGSPticrtXFBPrM-kt5QxIW94UhmLmry6S9wiGyAp7BEIu80.TLFWgv-b5HDkrfK1ThPGujYknHb0THY0IAYqmhq1Tqpkko60IgP-T-qYXgK-5H00mywxIZ-suHY10ZIEThfqmhq1Tqpkko60ThPv5HD0IgF_gv-b5HDdnHbYnjnYnHn0UgNxpyfqnHcLPWTLnj00UNqGujYknjm3P10vPfKVIZK_gv-b5HDkPHnY0ZKvgv-b5H00pywW5R9rffKWThnqnWmknW0%26ck%3D7510.2.144.357.151.158.153.315%26dt%3D1601227710%26wd%3Dboss%25E7%259B%25B4%25E8%2581%2598%26tpl%3Dtpl_11534_22836_18980%26l%3D1519403413%26us%3DlinkName%253D%2525E6%2525A0%252587%2525E5%252587%252586%2525E5%2525A4%2525B4%2525E9%252583%2525A8-%2525E4%2525B8%2525BB%2525E6%2525A0%252587%2525E9%2525A2%252598%2526linkText%253DBOSS%2525E7%25259B%2525B4%2525E8%252581%252598%2525E2%252580%252594%2525E2%252580%252594%2525E6%252589%2525BE%2525E5%2525B7%2525A5%2525E4%2525BD%25259C%2525EF%2525BC%25258C%2525E6%252588%252591%2525E8%2525A6%252581%2525E8%2525B7%25259F%2525E8%252580%252581%2525E6%25259D%2525BF%2525E8%2525B0%252588%2525EF%2525BC%252581%2526linkType%253D&g=%2Fwww.zhipin.com%2Fdongguan%2F%3Fsid%3Dsem_pz_bdpc_dasou_title&friend_source=0&friend_source=0; __a=89592293.1601222437..1601222437.14.1.14.14; Hm_lpvt_194df3105ad7148dcf2b98a91b5e727a=1601227724; __zp_sseed__=6Into8wencgEgK8JjzlLW0LBaICixmExFJ598SJs/x8=; __zp_sname__=013f7191; __zp_sts__=1601227817919'}




url ='https://www.zhipin.com/job_detail/?query=&city=101281600&industry=&position=100301'
req =requests.get(url, headers=header)
text = req.content.decode('utf-8')
html = etree.HTML(text)
print(text)
ul = html.xpath('//span[@class="job-name"]/a/@href')[0]
url='https://www.zhipin.com'+ul
print(url)
url=[]
lis =html.xpath('./li')
for ll in lis:
    ll =html.xpath('./span[@class="job-name"]/a/@href')[0]
    url ='https://www.zhipin.com'+ll
    url.append(ll)
    print(url)
